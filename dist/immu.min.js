"use strict";function immu(r){if(void 0!==alreadyImmutable[typeof r]||null===r)return r;if("function"==typeof r.toJS)return r;var n=Array.isArray(r),t={toJS:{value:function(){return r}}};return Object.keys(r).forEach(function(n){var e=r[n];t[n]={enumerable:!0,set:function(r){throw new Error('Cannot change value "'+n+'" to "'+r+'" of an immutable property')},get:function(){return immu(e)}}}),n&&(t=immuArrProps(r,t)),Object.freeze(Object.create(Object.prototype,t))}function immuArrProps(r,n){return n.length=defProp("length",function(){return r.length}),["forEach","map","filter","some","every"].forEach(function(t){n[t]=defProp(t,function(){return function(n){return immu(r[t](function(t,e){return n(immu(t),e,immu(r))}))}})}),["reduce","reduceRight"].forEach(function(t){n[t]=defProp(t,function(){return function(n,e){return immu(r[t](function(t,e,u){return n(immu(t),immu(e),u,immu(r))},e))}})}),["concat","join","slice","indexOf","lastIndexOf","reverse","toString","toLocaleString"].forEach(function(t){n[t]=defProp(t,function(){return function(){return immu(r[t].apply(r,arguments))}})}),n.push=defProp("push",function(){return function(){return immu(r.concat.apply(r,arguments))}}),n.unshift=defProp("unshift",function(){return function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];return immu(t.concat(r))}}),n.sort=defProp("sort",function(){return function(n){return immu(n?r.sort(function(r,t){return n(immu(r),immu(t))}):r.sort())}}),n.splice=defProp("splice",function(){return function(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];var u=t[0],o=t[1],i=t.slice(2)||[],f=r.slice(0,u),c=r.slice(u+o);return f.concat(i,c)}}),n}function defProp(r,n){return{set:function(n){throw new Error('Cannot change value "'+r+'" to "'+n+'" of an immutable property')},get:n}}Object.defineProperty(exports,"__esModule",{value:!0});var alreadyImmutable={"function":!0,string:!0,"boolean":!0,number:!0,undefined:!0};exports["default"]=immu,module.exports=exports["default"];