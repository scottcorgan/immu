"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}return Array.from(r)}function immu(r){return r&&"Promise"===r[Symbol.toStringTag]?r:void 0!==IMMUTABLE_TYPES[typeof r]||null===r?r:"function"==typeof r.toJS?r:Object.freeze(Array.isArray(r)?immutableArray(r):immutableObject(r))}function immutableObject(r){var n=defineDefaultProps(r);return Object.keys(r).forEach(function(t){var e=r[t];n[t]={enumerable:!0,set:function(r){throw new Error('Cannot change value "'+t+'" to "'+r+'" of an immutable property')},get:function(){return e=immu(e)}}}),Object.create(Object.getPrototypeOf(r),n)}function immutableArray(r){var n=r.slice(0).map(immu),t=["forEach","map","filter","some","every"],e=["reduce","reduceRight"],o=["concat","join","slice","indexOf","lastIndexOf","reverse"],u=_extends({},defineDefaultProps(r),{push:defineProp("push",function(){return function(){for(var r=arguments.length,t=Array(r),e=0;e<r;e++)t[e]=arguments[e];return immu(n.concat(t))}}),unshift:defineProp("unshift",function(){return function(){for(var r=arguments.length,t=Array(r),e=0;e<r;e++)t[e]=arguments[e];return immu(t.concat(n))}}),sort:defineProp("sort",function(){return function(n){return immu(n?r.sort(function(r,t){return n(immu(r),immu(t))}):r.sort())}}),splice:defineProp("splice",function(){return function(){for(var r=arguments.length,t=Array(r),e=0;e<r;e++)t[e]=arguments[e];var o=t[0],u=t[1],i=t.slice(2)||[],a=n.slice(0,o),f=n.slice(o+u);return a.concat(i,f)}})});return t.forEach(function(n){return u[n]=defineProp(n,function(){return iterators(r,n)})}),o.forEach(function(n){return u[n]=defineProp(n,function(){return immutators(r,n)})}),e.forEach(function(n){u[n]=defineProp(n,function(){return function(t,e){return immu(r[n](function(){for(var r=arguments.length,n=Array(r),e=0;e<r;e++)n[e]=arguments[e];return t.apply(void 0,_toConsumableArray(n.map(immu)))},immu(e)))}})}),Object.defineProperties(n,u)}function iterators(r,n){return function(t){return immu(r[n](function(){for(var r=arguments.length,n=Array(r),e=0;e<r;e++)n[e]=arguments[e];return t.apply(void 0,_toConsumableArray(n.map(immu)))}))}}function immutators(r,n){return function(){return immu(r[n].apply(r,arguments))}}function defineDefaultProps(r){return{toJS:{value:function(){return r}},toJSON:{value:function(){return r}},valueOf:{value:function(){return r.valueOf()}},toString:{value:function(){return r.toString()}},toLocaleString:{value:function(){return r.toLocaleString()}}}}function defineProp(r,n){return{set:function(n){throw new Error('Cannot change value "'+r+'" to "'+n+'" of an immutable property')},get:n}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r};exports.default=immu;var IMMUTABLE_TYPES={function:!0,string:!0,boolean:!0,number:!0,undefined:!0,symbol:!0};module.exports=exports.default;